<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Or√°culo Glass das 12 Pombagiras üîÆ</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Dancing+Script:wght@700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        /* ========== RESET & BASE ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Cores Pombagira - Glassmorphism */
            --roxo-profundo: #4a148c;
            --roxo-vibrante: #7b1fa2;
            --vermelho-sangue: #c62828;
            --vermelho-fogo: #ff3d00;
            --preto-veludo: #0a0a0a;
            --preto-cetim: #1a1a1a;
            --ouro: #ffd700;
            --ouro-brilho: #fff176;
            
            /* Glassmorphism Effects */
            --vidro-branco: rgba(255, 255, 255, 0.08);
            --vidro-roxo: rgba(123, 31, 162, 0.15);
            --vidro-vermelho: rgba(255, 61, 0, 0.12);
            --vidro-ouro: rgba(255, 215, 0, 0.1);
            --sombra-vidro: 0 8px 32px rgba(0, 0, 0, 0.3);
            --sombra-vidro-intensa: 0 12px 40px rgba(0, 0, 0, 0.4);
            --borda-vidro: 1px solid rgba(255, 255, 255, 0.1);
            --borda-vidro-dourada: 1px solid rgba(255, 215, 0, 0.3);
            
            /* Gradientes */
            --gradiente-roxo: linear-gradient(135deg, var(--roxo-profundo), var(--roxo-vibrante));
            --gradiente-fogo: linear-gradient(135deg, var(--vermelho-sangue), var(--vermelho-fogo));
            --gradiente-ouro: linear-gradient(135deg, var(--ouro), var(--ouro-brilho));
            
            /* Efeitos de brilho */
            --brilho-ouro: 0 0 20px rgba(255, 215, 0, 0.5);
            --brilho-roxo: 0 0 20px rgba(123, 31, 162, 0.5);
            --brilho-vermelho: 0 0 20px rgba(255, 61, 0, 0.5);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: 
                radial-gradient(circle at 20% 30%, var(--roxo-profundo) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, var(--vermelho-sangue) 0%, transparent 50%),
                var(--preto-veludo);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Efeito de part√≠culas no fundo */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 20%, rgba(255, 215, 0, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 61, 0, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        /* ========== GLASSMORPHISM UTILITIES ========== */
        .glass-panel {
            background: var(--vidro-branco);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: var(--borda-vidro);
            border-radius: 20px;
            box-shadow: var(--sombra-vidro);
        }

        .glass-panel-roxo {
            background: var(--vidro-roxo);
            backdrop-filter: blur(12px);
            border: var(--borda-vidro);
            box-shadow: var(--sombra-vidro-intensa), var(--brilho-roxo);
        }

        .glass-panel-vermelho {
            background: var(--vidro-vermelho);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 61, 0, 0.2);
            box-shadow: var(--sombra-vidro-intensa), var(--brilho-vermelho);
        }

        .glass-panel-ouro {
            background: var(--vidro-ouro);
            backdrop-filter: blur(15px);
            border: var(--borda-vidro-dourada);
            box-shadow: var(--sombra-vidro-intensa), var(--brilho-ouro);
        }

        /* ========== CONTADOR GLASS ========== */
        #contador-glass {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 10px 20px;
            z-index: 1000;
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            background: rgba(74, 20, 140, 0.25);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 50px;
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            font-size: 14px;
            color: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            cursor: pointer;
            user-select: none;
        }

        #contador-glass:hover {
            background: rgba(123, 31, 162, 0.3);
            transform: translateY(-2px);
            box-shadow: 
                0 6px 25px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        #contador-glass .icone {
            font-size: 16px;
            animation: pulse 2s infinite;
        }

        #contador-glass .numero {
            font-weight: 600;
            color: var(--ouro);
            font-size: 16px;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        #contador-glass .status {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #00ff88;
            box-shadow: 0 0 10px #00ff88;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.8; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }

        /* ========== CONTAINER PRINCIPAL ========== */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px;
            position: relative;
            z-index: 1;
        }

        /* ========== HEADER GLASS ========== */
        .header-glass {
            text-align: center;
            padding: 40px 20px;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
        }

        .header-glass::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            right: -50%;
            bottom: -50%;
            background: linear-gradient(
                45deg,
                transparent 30%,
                rgba(255, 215, 0, 0.05) 50%,
                transparent 70%
            );
            animation: shine 8s infinite linear;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .titulo-principal {
            font-family: 'Cinzel', serif;
            font-size: 3.5rem;
            background: var(--gradiente-ouro);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
            position: relative;
        }

        .subtitulo {
            font-family: 'Dancing Script', cursive;
            font-size: 1.8rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 20px;
        }

        /* ========== SE√á√ÉO DE POMBAGIRAS ========== */
        .secao-pombagiras {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }

        .pombagira-card {
            padding: 25px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .pombagira-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.03), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .pombagira-card:hover::before {
            opacity: 1;
        }

        .pombagira-card:hover {
            transform: translateY(-5px);
            box-shadow: 
                0 15px 40px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(123, 31, 162, 0.3);
        }

        .pombagira-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .pombagira-icone {
            font-size: 2.5rem;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 15px;
            background: rgba(0, 0, 0, 0.3);
            border: var(--borda-vidro);
        }

        .pombagira-titulo {
            font-family: 'Cinzel', serif;
            font-size: 1.5rem;
            color: var(--ouro);
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        .pombagira-dominio {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            background: rgba(0, 0, 0, 0.3);
            padding: 3px 10px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 5px;
        }

        .pombagira-descricao {
            line-height: 1.6;
            margin-bottom: 20px;
            color: rgba(255, 255, 255, 0.9);
        }

        .pombagira-atributos {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .atributo-tag {
            padding: 5px 12px;
            background: rgba(0, 0, 0, 0.3);
            border: var(--borda-vidro);
            border-radius: 15px;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .pombagira-detalhes {
            border-top: var(--borda-vidro);
            padding-top: 15px;
            margin-top: 15px;
        }

        .detalhe-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .detalhe-item i {
            color: var(--ouro);
            width: 20px;
        }

        /* ========== QUIZ SECTION ========== */
        .quiz-container {
            padding: 40px;
            margin-bottom: 50px;
            text-align: center;
        }

        .quiz-pergunta {
            font-family: 'Cinzel', serif;
            font-size: 1.8rem;
            margin-bottom: 30px;
            color: var(--ouro);
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        .quiz-opcoes {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-width: 600px;
            margin: 0 auto 30px;
        }

        .quiz-opcao {
            padding: 18px 25px;
            text-align: left;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .quiz-opcao::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s;
        }

        .quiz-opcao:hover::before {
            left: 100%;
        }

        .quiz-opcao:hover {
            transform: translateX(10px);
            box-shadow: 
                0 5px 20px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(123, 31, 162, 0.2);
        }

        .quiz-opcao.correta {
            background: rgba(0, 255, 136, 0.15);
            border-color: rgba(0, 255, 136, 0.3);
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.3);
        }

        .quiz-opcao.incorreta {
            background: rgba(255, 61, 0, 0.15);
            border-color: rgba(255, 61, 0, 0.3);
            box-shadow: 0 0 20px rgba(255, 61, 0, 0.3);
        }

        .quiz-botoes {
            display: flex;
            gap: 20px;
            justify-content: center;
        }

        .botao-glass {
            padding: 15px 35px;
            border: none;
            font-family: 'Inter', sans-serif;
            font-weight: 500;
            font-size: 1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .botao-glass::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }

        .botao-glass:hover::before {
            left: 100%;
        }

        .botao-principal {
            background: var(--gradiente-fogo);
            color: white;
            border: 1px solid rgba(255, 61, 0, 0.3);
        }

        .botao-principal:hover {
            transform: translateY(-3px);
            box-shadow: 
                0 10px 25px rgba(255, 61, 0, 0.3),
                0 0 30px rgba(255, 61, 0, 0.2);
        }

        .botao-secundario {
            background: var(--vidro-branco);
            backdrop-filter: blur(10px);
            color: white;
            border: var(--borda-vidro);
        }

        .botao-secundario:hover {
            transform: translateY(-3px);
            box-shadow: var(--sombra-vidro-intensa);
        }

        /* ========== RESULTADO SECTION ========== */
        .resultado-container {
            padding: 50px;
            text-align: center;
            display: none;
        }

        .resultado-titulo {
            font-family: 'Cinzel', serif;
            font-size: 2.5rem;
            color: var(--ouro);
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .pombagira-resultado {
            max-width: 800px;
            margin: 0 auto 40px;
            padding: 30px;
        }

        .pombagira-imagem {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            margin: 0 auto 30px;
            border: 3px solid var(--ouro);
            box-shadow: 
                0 0 40px rgba(255, 215, 0, 0.5),
                inset 0 0 40px rgba(0, 0, 0, 0.5);
            background: var(--gradiente-roxo);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
        }

        .mensagem-audio {
            font-style: italic;
            line-height: 1.6;
            padding: 20px;
            margin: 20px 0;
            border-left: 3px solid var(--ouro);
            text-align: left;
            background: rgba(0, 0, 0, 0.2);
        }

        /* ========== RESPONSIVO ========== */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .titulo-principal {
                font-size: 2.5rem;
            }
            
            .secao-pombagiras {
                grid-template-columns: 1fr;
            }
            
            .quiz-container,
            .resultado-container {
                padding: 20px;
            }
            
            #contador-glass {
                bottom: 10px;
                right: 10px;
                padding: 8px 15px;
                font-size: 12px;
            }
        }

        /* ========== ANIMA√á√ïES ========== */
        @keyframes aparecer {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animar-entrada {
            animation: aparecer 0.6s ease forwards;
        }
    </style>
</head>
<body>
    <!-- Contador Glass -->
    <div id="contador-glass" title="Consultas ao Or√°culo">
        <span class="icone">üîÆ</span>
        <span class="texto">Consultas:</span>
        <span class="numero" id="contador-numero">0</span>
        <span class="status" id="contador-status"></span>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header-glass glass-panel-roxo animar-entrada">
            <h1 class="titulo-principal">Or√°culo das 12 Pombagiras</h1>
            <p class="subtitulo">13 Perguntas para Revelar sua Guia Espiritual</p>
            
            <div class="quiz-botoes" style="margin-top: 30px;">
                <button class="botao-glass botao-principal" onclick="iniciarQuiz()">
                    üîÆ Iniciar Consulta (13 Perguntas)
                </button>
                <button class="botao-glass botao-secundario" onclick="mostrarTodasPombagiras()">
                    üëë Conhecer Todas as 12 Pombagiras
                </button>
            </div>
        </header>

        <!-- Se√ß√£o de Todas as Pombagiras (Inicialmente oculta) -->
        <div id="secao-todas-pombagiras" class="secao-pombagiras" style="display: none;">
            <!-- As 12 Pombagiras ser√£o inseridas aqui via JavaScript -->
        </div>

        <!-- Se√ß√£o do Quiz -->
        <div id="quiz-section" class="quiz-container glass-panel-roxo animar-entrada" style="display: none;">
            <div class="quiz-pergunta" id="pergunta-atual">
                Carregando pergunta...
            </div>
            
            <div class="quiz-opcoes" id="opcoes-container">
                <!-- Op√ß√µes ser√£o inseridas aqui -->
            </div>
            
            <div class="quiz-botoes">
                <button class="botao-glass botao-secundario" onclick="pularPergunta()" id="pular-btn">
                    ‚è≠Ô∏è Pular Pergunta
                </button>
                <button class="botao-glass botao-principal" onclick="proximaPergunta()" id="proxima-btn" style="display: none;">
                    ‚ñ∂Ô∏è Pr√≥xima
                </button>
            </div>
            
            <div id="feedback-container" style="margin-top: 20px;"></div>
            
            <div id="progresso-container" style="margin-top: 30px;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                    <span>Progresso: Pergunta <span id="numero-pergunta">1</span> de 13</span>
                    <span id="contador-perguntas">1/13</span>
                </div>
                <div style="height: 6px; background: rgba(0,0,0,0.3); border-radius: 3px; overflow: hidden;">
                    <div id="barra-progresso" style="height: 100%; width: 0%; background: var(--gradiente-fogo); transition: width 0.3s ease;"></div>
                </div>
            </div>
        </div>

        <!-- Se√ß√£o de Resultado -->
        <div id="resultado-section" class="resultado-container glass-panel-ouro animar-entrada" style="display: none;">
            <h2 class="resultado-titulo">Sua Pombagira Guia √©:</h2>
            
            <div id="pombagira-resultado" class="pombagira-resultado glass-panel-roxo">
                <!-- Resultado ser√° inserido aqui -->
            </div>
            
            <div class="quiz-botoes">
                <button class="botao-glass botao-principal" onclick="compartilharResultado()">
                    üì± Compartilhar Resultado
                </button>
                <button class="botao-glass botao-secundario" onclick="novaConsulta()">
                    üîÑ Nova Consulta
                </button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        // ========== CONFIGURA√á√ÉO SUPABASE ==========
        const SUPABASE_URL = 'https://qgnprifuachmfxoaalax.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFnbnByaWZ1YWNobWZ4b2FhbGF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzODU5MDcsImV4cCI6MjA4MDk2MTkwN30.sKSYFhcI-zflr9RUKXpWF0_5sc6foDG7yxdEirtE0W4';
        
        // Nome da tabela para o novo or√°culo
        const ORACULO_NOME = 'oraculo_12_pombagiras';

        // ========== DADOS DAS 12 POMBAGIRAS ==========
        const pombagiras = [
            {
                id: 1,
                nome: "Maria Padilha",
                dominio: "Comando/Realeza",
                descricao: "Maria Padilha √© uma das Pombagiras mais conhecidas e reverenciadas na Umbanda e Quimbanda. Ela √© associada ao poder, lideran√ßa e autoridade, sendo considerada a 'Rainha das Pombagiras'.",
                icone: "üëë",
                cores: ["#c62828", "#ffd700"],
                atributos: ["Poder", "Lideran√ßa", "Justi√ßa", "Prote√ß√£o"],
                oferendas: "Velas vermelhas, vinho tinto, rosas vermelhas, perfumes e joias",
                dias: "Segunda-feira",
                elemento: "Fogo",
                mensagemAudio: "Maria Padilha √© a rainha que governa com sabedoria e for√ßa. Ela ensina a liderar com justi√ßa e a enfrentar desafios com coragem. Seu manto de realeza nos lembra que o poder verdadeiro vem da sabedoria e do respeito."
            },
            {
                id: 2,
                nome: "Maria Mulambo",
                dominio: "Cura/Humildade",
                descricao: "Maria Mulambo √© a Pombagira da cura espiritual e f√≠sica, associada √† humildade e √† transforma√ß√£o. Seu nome 'Mulambo' simboliza a simplicidade e a capacidade de curar feridas emocionais e espirituais.",
                icone: "üåø",
                cores: ["#ffffff", "#4CAF50"],
                atributos: ["Cura", "Humildade", "Transforma√ß√£o", "Renova√ß√£o"],
                oferendas: "Ervas medicinais, velas brancas, √°gua de cheiro e frutas",
                dias: "Quinta-feira",
                elemento: "Terra",
                mensagemAudio: "Maria Mulambo √© a m√£e que acolhe e cura. Ela ensina que a humildade √© o caminho para a verdadeira transforma√ß√£o. Com suas ervas e seu manto de simplicidade, ela renova nossas for√ßas e purifica nossas almas."
            },
            {
                id: 3,
                nome: "Maria Quit√©ria",
                dominio: "Guerra/Prote√ß√£o",
                descricao: "Maria Quit√©ria √© a guerreira das Pombagiras, associada √† coragem, prote√ß√£o e luta. Seu nome faz refer√™ncia √† hero√≠na brasileira que lutou na Independ√™ncia do Brasil.",
                icone: "‚öîÔ∏è",
                cores: ["#c62828", "#000000"],
                atributos: ["Coragem", "Prote√ß√£o", "Justi√ßa", "Combate"],
                oferendas: "Velas vermelhas, espadas simb√≥licas, vinho e pimenta",
                dias: "Ter√ßa-feira",
                elemento: "Fogo",
                mensagemAudio: "Maria Quit√©ria √© a guerreira que defende os seus com bravery. Ela empunha a espada da justi√ßa e nos ensina a lutar por nossos direitos. Com ela, aprendemos que a prote√ß√£o vem da coragem e da f√©."
            },
            {
                id: 4,
                nome: "Rosa Caveira",
                dominio: "Justi√ßa/Morte",
                descricao: "Rosa Caveira √© a Pombagira associada √† justi√ßa divina e ao ciclo da vida e da morte. A caveira simboliza transforma√ß√£o e renascimento.",
                icone: "üíÄ",
                cores: ["#000000", "#c62828"],
                atributos: ["Justi√ßa", "Transforma√ß√£o", "Renascimento", "Equil√≠brio"],
                oferendas: "Velas pretas, rosas vermelhas, vinho e mel",
                dias: "Segunda-feira",
                elemento: "Terra",
                mensagemAudio: "Rosa Caveira √© a guardi√£ da justi√ßa e do equil√≠brio. Ela nos lembra que a morte √© apenas uma passagem, e que a justi√ßa divina sempre prevalece. Com sua presen√ßa, aprendemos a respeitar os ciclos da vida."
            },
            {
                id: 5,
                nome: "Dama da Noite",
                dominio: "Mist√©rio/Oculto",
                descricao: "Dama da Noite √© a Pombagira do mist√©rio, da intui√ß√£o e dos segredos. Ela atua nas sombras, revelando verdades ocultas e protegendo os mist√©rios sagrados.",
                icone: "üåô",
                cores: ["#4a148c", "#000000"],
                atributos: ["Mist√©rio", "Intui√ß√£o", "Sabedoria", "Prote√ß√£o"],
                oferendas: "Velas roxas, cristais, incenso e flores noturnas",
                dias: "Sexta-feira",
                elemento: "Ar",
                mensagemAudio: "Dama da Noite √© a guardi√£ dos segredos e da sabedoria oculta. Ela ilumina nosso caminho com a luz da lua e nos ensina a confiar em nossa intui√ß√£o. Com ela, descobrimos que o mist√©rio √© a porta para o conhecimento."
            },
            {
                id: 6,
                nome: "Sete Saias",
                dominio: "Alegria/Intensidade",
                descricao: "Sete Saias √© a Pombagira da alegria, da dan√ßa e da intensidade da vida. Suas sete saias coloridas simbolizam a diversidade e a vibra√ß√£o da energia feminina.",
                icone: "üíÉ",
                cores: ["#FF4081", "#FFEB3B", "#2196F3"],
                atributos: ["Alegria", "Dan√ßa", "Sensualidade", "Prosperidade"],
                oferendas: "Velas coloridas, doces, frutas, m√∫sica e dan√ßa",
                dias: "S√°bado",
                elemento: "Fogo",
                mensagemAudio: "Sete Saias √© a dan√ßarina que traz a alegria e a cor para nossa vida. Com suas saias coloridas, ela nos ensina a celebrar cada momento e a viver com intensidade. Com ela, a vida se torna uma festa!"
            },
            {
                id: 7,
                nome: "Cigana",
                dominio: "Liberdade/Prosperidade",
                descricao: "Pombagira Cigana √© associada √† liberdade, aos caminhos abertos e √† prosperidade. Ela representa o esp√≠rito n√¥made e a sabedoria dos povos ciganos.",
                icone: "üîÆ",
                cores: ["#FFD700", "#7B1FA2"],
                atributos: ["Liberdade", "Prosperidade", "Viagens", "Sabedoria"],
                oferendas: "Moedas, velas douradas, baralho cigano, perfumes",
                dias: "Quarta-feira",
                elemento: "Ar",
                mensagemAudio: "Pombagira Cigana √© a viajante que abre caminhos e traz prosperidade. Com seu len√ßo colorido e seu baralho, ela nos ensina a confiar no destino e a viver com liberdade. Com ela, a sorte est√° sempre ao nosso lado."
            },
            {
                id: 8,
                nome: "Maria Navalha",
                dominio: "Malandragem/Rua",
                descricao: "Maria Navalha √© a Pombagira da malandragem, da rua e da sobreviv√™ncia. A navalha simboliza defesa e ast√∫cia.",
                icone: "üî™",
                cores: ["#c62828", "#333333"],
                atributos: ["Ast√∫cia", "Prote√ß√£o", "Sobreviv√™ncia", "Coragem"],
                oferendas: "Velas vermelhas, cacha√ßa, cigarros e moedas",
                dias: "Ter√ßa-feira",
                elemento: "Metal",
                mensagemAudio: "Maria Navalha √© a protetora das ruas e dos que lutam para sobreviver. Com sua navalha e sua malandragem, ela nos ensina a ser espertos e a enfrentar os desafios da vida com coragem. Com ela, nunca estamos sozinhos."
            },
            {
                id: 9,
                nome: "Da Praia",
                dominio: "Emo√ß√£o/Limpeza",
                descricao: "Pombagira da Praia √© associada √†s emo√ß√µes, √† limpeza espiritual e ao poder purificador da √°gua. Ela representa a conex√£o com o mar.",
                icone: "üåä",
                cores: ["#2196F3", "#FFFFFF"],
                atributos: ["Emo√ß√µes", "Limpeza", "Renova√ß√£o", "Paz"],
                oferendas: "√Ågua do mar, conchas, velas azuis, flores brancas",
                dias: "Sexta-feira",
                elemento: "√Ågua",
                mensagemAudio: "Pombagira da Praia √© a guardi√£ das √°guas e das emo√ß√µes. Com suas ondas, ela limpa nossa alma e nos ensina a fluir com a vida. Com ela, encontramos paz e renova√ß√£o."
            },
            {
                id: 10,
                nome: "Maria Farrapo",
                dominio: "Sanidade/Caos",
                descricao: "Maria Farrapo √© a Pombagira que atua na fronteira entre a sanidade e o caos mental. Ela ajuda a trazer equil√≠brio para mentes perturbadas.",
                icone: "üß©",
                cores: ["#000000", "#FFFFFF"],
                atributos: ["Transforma√ß√£o", "Equil√≠brio", "Cura Mental", "Renova√ß√£o"],
                oferendas: "Velas pretas e brancas, ervas calmantes, cristais",
                dias: "Segunda-feira",
                elemento: "Ar",
                mensagemAudio: "Maria Farrapo √© a transformadora da mente. Com seus farrapos, ela nos ensina que at√© no caos podemos encontrar a sanidade. Com ela, aprendemos a transformar nossas dores em for√ßa."
            },
            {
                id: 11,
                nome: "Menina",
                dominio: "Renova√ß√£o/Inoc√™ncia",
                descricao: "Pombagira Menina representa a energia da renova√ß√£o, da inoc√™ncia e do recome√ßo. Ela √© associada √† pureza e √† capacidade de renascer.",
                icone: "üëß",
                cores: ["#FFB6C1", "#FFFFFF"],
                atributos: ["Renova√ß√£o", "Inoc√™ncia", "Pureza", "Esperan√ßa"],
                oferendas: "Bonecas, doces, velas cor-de-rosa, flores brancas",
                dias: "Domingo",
                elemento: "Ar",
                mensagemAudio: "Pombagira Menina √© a guardi√£ da inoc√™ncia e da renova√ß√£o. Com seu sorriso doce, ela nos ensina que sempre podemos recome√ßar. Com ela, encontramos a pureza e a esperan√ßa."
            },
            {
                id: 12,
                nome: "Da Figueira",
                dominio: "Raiz/Ancestralidade",
                descricao: "Pombagira da Figueira √© a conex√£o com a ancestralidade, a terra e as ra√≠zes. Ela representa a sabedoria dos antepassados e a for√ßa da natureza.",
                icone: "üå≥",
                cores: ["#8BC34A", "#5D4037"],
                atributos: ["Ancestralidade", "Conex√£o", "Sabedoria", "Prote√ß√£o"],
                oferendas: "Folhas de figueira, velas verdes, sementes, frutas",
                dias: "Quinta-feira",
                elemento: "Terra",
                mensagemAudio: "Pombagira da Figueira √© a guardi√£ das ra√≠zes e da ancestralidade. Com seus galhos fortes, ela nos conecta aos nossos antepassados e √† sabedoria da terra. Com ela, encontramos for√ßa e pertencimento."
            }
        ];

        // ========== VARI√ÅVEIS DO QUIZ ==========
        let perguntasQuiz = [];
        let perguntaAtual = 0;
        let respostasUsuario = [];
        let pontos = 0;
        let pombagiraResultado = null;

        // ========== INICIALIZA√á√ÉO ==========
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('‚ú® Or√°culo das 12 Pombagiras iniciando...');
            
            // Iniciar contador
            await initContador();
            
            // Carregar todas as perguntas do Supabase
            await carregarPerguntas();
            
            // Exibir todas as Pombagiras inicialmente
            exibirTodasPombagiras();
        });

        // ========== CONTADOR SUPABASE ==========
        async function initContador() {
            try {
                const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
                
                // Criar tabela se n√£o existir
                await criarTabelaContador(supabase);
                
                // Verificar se j√° visitou nesta sess√£o
                if (!sessionStorage.getItem('oraculo_12_visitado')) {
                    await incrementarContador(supabase);
                    sessionStorage.setItem('oraculo_12_visitado', 'true');
                    atualizarStatusContador('online');
                } else {
                    await mostrarContagemAtual(supabase);
                    atualizarStatusContador('online');
                }
                
            } catch (error) {
                console.warn('‚ö†Ô∏è Modo offline:', error.message);
                usarContadorOffline();
            }
        }

        async function criarTabelaContador(supabase) {
            // Esta fun√ß√£o ser√° executada no Supabase SQL Editor
            // N√£o precisa ser chamada aqui no frontend
        }

        async function incrementarContador(supabase) {
            try {
                // Primeiro tentar UPSERT (atualizar ou criar)
                const { data: registroAtual, error: erroBusca } = await supabase
                    .from('oraculo_pombagira')
                    .select('total_consultas')
                    .eq('nome', ORACULO_NOME)
                    .single();
                
                let novaContagem;
                
                if (erroBusca || !registroAtual) {
                    // Criar novo registro
                    novaContagem = 1;
                    const { error: erroCriar } = await supabase
                        .from('oraculo_pombagira')
                        .insert([{
                            nome: ORACULO_NOME,
                            descricao: 'Or√°culo das 12 Pombagiras - Glassmorphism',
                            total_consultas: novaContagem
                        }]);
                    
                    if (erroCriar) throw erroCriar;
                    
                } else {
                    // Atualizar existente
                    novaContagem = (registroAtual.total_consultas || 0) + 1;
                    const { error: erroAtualizar } = await supabase
                        .from('oraculo_pombagira')
                        .update({ 
                            total_consultas: novaContagem,
                            atualizado_em: new Date().toISOString()
                        })
                        .eq('nome', ORACULO_NOME);
                    
                    if (erroAtualizar) throw erroAtualizar;
                }
                
                // Atualizar display
                document.getElementById('contador-numero').textContent = novaContagem;
                animarContador();
                console.log(`‚úÖ Contador: ${novaContagem} consultas`);
                
            } catch (error) {
                console.error('‚ùå Erro no contador:', error);
                throw error;
            }
        }

        async function mostrarContagemAtual(supabase) {
            try {
                const { data } = await supabase
                    .from('oraculo_pombagira')
                    .select('total_consultas')
                    .eq('nome', ORACULO_NOME)
                    .single();
                
                if (data) {
                    document.getElementById('contador-numero').textContent = data.total_consultas || 0;
                } else {
                    document.getElementById('contador-numero').textContent = '0';
                }
            } catch (error) {
                console.error('Erro ao buscar contagem:', error);
                document.getElementById('contador-numero').textContent = '‚ú®';
            }
        }

        function atualizarStatusContador(status) {
            const statusDot = document.getElementById('contador-status');
            if (!statusDot) return;
            
            if (status === 'online') {
                statusDot.style.background = '#00ff88';
                statusDot.style.boxShadow = '0 0 10px #00ff88';
            } else {
                statusDot.style.background = '#FFA726';
                statusDot.style.boxShadow = '0 0 10px #FFA726';
            }
        }

        function animarContador() {
            const numero = document.getElementById('contador-numero');
            if (!numero) return;
            
            numero.style.transform = 'scale(1.3)';
            numero.style.color = '#FFD700';
            
            setTimeout(() => {
                numero.style.transform = 'scale(1)';
                numero.style.color = '#FFD700';
            }, 300);
        }

        function usarContadorOffline() {
            let local = localStorage.getItem('oraculo_12_local') || 0;
            local = parseInt(local) + 1;
            localStorage.setItem('oraculo_12_local', local);
            
            document.getElementById('contador-numero').textContent = local;
            atualizarStatusContador('offline');
            console.log('üì± Contador offline:', local);
        }

        // ========== SISTEMA DE PERGUNTAS ==========
        async function carregarPerguntas() {
            try {
                const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
                
                // Tentar carregar do Supabase
                const { data: perguntasDB, error } = await supabase
                    .from('perguntas_pombagira')
                    .select('*')
                    .eq('ativa', true)
                    .order('nivel_dificuldade');
                
                if (!error && perguntasDB && perguntasDB.length >= 13) {
                    // Se tiver 13+ perguntas no banco, usar elas
                    perguntasQuiz = perguntasDB;
                    console.log(`‚úÖ ${perguntasQuiz.length} perguntas carregadas do Supabase`);
                } else {
                    // Usar perguntas fixas como fallback (agora com 13 perguntas!)
                    perguntasQuiz = gerar13PerguntasFixas();
                    console.log('üì± Usando 13 perguntas fixas');
                }
                
            } catch (error) {
                console.error('Erro ao carregar perguntas:', error);
                perguntasQuiz = gerar13PerguntasFixas();
            }
        }

        function gerar13PerguntasFixas() {
            return [
                {
                    pergunta: "Qual sauda√ß√£o abre os caminhos na gira?",
                    opcao_a: "Sarav√°",
                    opcao_b: "Laroy√™ Exu",
                    opcao_c: "Ax√©",
                    resposta_correta: "b",
                    nivel_dificuldade: 1,
                    tema: "sauda√ß√µes",
                    explicacao: "Laroy√™ Exu √© a sauda√ß√£o que abre os caminhos e pede licen√ßa para trabalhar."
                },
                {
                    pergunta: "Maria Padilha atua principalmente em qual encruzilhada?",
                    opcao_a: "De terra",
                    opcao_b: "De vento",
                    opcao_c: "De fogo",
                    resposta_correta: "a",
                    nivel_dificuldade: 2,
                    tema: "entidades",
                    explicacao: "Maria Padilha atua nas encruzilhadas de terra, que s√£o os caminhos da vida material."
                },
                {
                    pergunta: "Qual elemento representa Maria Mulambo?",
                    opcao_a: "Fogo",
                    opcao_b: "Terra",
                    opcao_c: "√Ågua",
                    resposta_correta: "b",
                    nivel_dificuldade: 2,
                    tema: "elementos",
                    explicacao: "Maria Mulambo est√° ligada ao elemento Terra, que representa cura e estabilidade."
                },
                {
                    pergunta: "Qual dia da semana √© mais forte para Pombagira Cigana?",
                    opcao_a: "Segunda-feira",
                    opcao_b: "Quarta-feira",
                    opcao_c: "Sexta-feira",
                    resposta_correta: "b",
                    nivel_dificuldade: 3,
                    tema: "dias",
                    explicacao: "Quarta-feira √© o dia de Merc√∫rio, que rege a comunica√ß√£o e viagens, perfeito para Pombagira Cigana."
                },
                {
                    pergunta: "O que simboliza a navalha de Maria Navalha?",
                    opcao_a: "Beleza",
                    opcao_b: "Defesa e ast√∫cia",
                    opcao_c: "Riqueza",
                    resposta_correta: "b",
                    nivel_dificuldade: 2,
                    tema: "s√≠mbolos",
                    explicacao: "A navalha representa a capacidade de defesa e a ast√∫cia necess√°ria para sobreviver."
                },
                {
                    pergunta: "Qual Pombagira est√° ligada √†s √°guas e emo√ß√µes?",
                    opcao_a: "Maria Padilha",
                    opcao_b: "Pombagira da Praia",
                    opcao_c: "Rosa Caveira",
                    resposta_correta: "b",
                    nivel_dificuldade: 1,
                    tema: "elementos",
                    explicacao: "Pombagira da Praia trabalha com as √°guas e a purifica√ß√£o emocional."
                },
                {
                    pergunta: "Qual Pombagira √© conhecida como 'Rainha das Encruzilhadas'?",
                    opcao_a: "Maria Mulambo",
                    opcao_b: "Maria Padilha",
                    opcao_c: "Pombagira Cigana",
                    resposta_correta: "b",
                    nivel_dificuldade: 1,
                    tema: "t√≠tulos",
                    explicacao: "Maria Padilha √© chamada de Rainha das Encruzilhadas por seu poder de abrir caminhos."
                },
                {
                    pergunta: "Qual cor est√° mais associada a Rosa Caveira?",
                    opcao_a: "Azul",
                    opcao_b: "Preto e Vermelho",
                    opcao_c: "Verde",
                    resposta_correta: "b",
                    nivel_dificuldade: 2,
                    tema: "cores",
                    explicacao: "Rosa Caveira √© representada pelas cores preto (morte) e vermelho (transforma√ß√£o)."
                },
                {
                    pergunta: "Sete Saias representa qual energia principal?",
                    opcao_a: "Tristeza",
                    opcao_b: "Alegria e dan√ßa",
                    opcao_c: "S√©rio",
                    resposta_correta: "b",
                    nivel_dificuldade: 1,
                    tema: "energias",
                    explicacao: "Sete Saias traz a energia da alegria, dan√ßa e celebra√ß√£o da vida."
                },
                {
                    pergunta: "Pombagira da Figueira conecta com o qu√™?",
                    opcao_a: "Futuro",
                    opcao_b: "Ancestralidade",
                    opcao_c: "Viagens",
                    resposta_correta: "b",
                    nivel_dificuldade: 3,
                    tema: "conex√µes",
                    explicacao: "Pombagira da Figueira nos conecta com nossos antepassados e ra√≠zes familiares."
                },
                {
                    pergunta: "Qual oferenda √© tradicional para Maria Navalha?",
                    opcao_a: "Champagne",
                    opcao_b: "Cacha√ßa",
                    opcao_c: "Vinho",
                    resposta_correta: "b",
                    nivel_dificuldade: 2,
                    tema: "oferendas",
                    explicacao: "Maria Navalha aceita cacha√ßa como oferenda, representando a for√ßa do povo."
                },
                {
                    pergunta: "Dama da Noite atua principalmente em qual per√≠odo?",
                    opcao_a: "Manh√£",
                    opcao_b: "Noite",
                    opcao_c: "Tarde",
                    resposta_correta: "b",
                    nivel_dificuldade: 1,
                    tema: "tempo",
                    explicacao: "Dama da Noite trabalha com os mist√©rios e segredos que surgem √† noite."
                },
                {
                    pergunta: "Qual elemento rege Pombagira Menina?",
                    opcao_a: "Terra",
                    opcao_b: "Ar",
                    opcao_c: "Fogo",
                    resposta_correta: "b",
                    nivel_dificuldade: 3,
                    tema: "elementos",
                    explicacao: "Pombagira Menina est√° ligada ao elemento Ar, que representa renova√ß√£o e novos come√ßos."
                }
            ];
        }

        // ========== INTERFACE DO QUIZ ==========
        function iniciarQuiz() {
            // Esconder header e mostrar quiz
            document.querySelector('.header-glass').style.display = 'none';
            document.getElementById('secao-todas-pombagiras').style.display = 'none';
            document.getElementById('quiz-section').style.display = 'block';
            document.getElementById('resultado-section').style.display = 'none';
            
            // Embaralhar perguntas e pegar 13
            perguntasQuiz = embaralharArray(perguntasQuiz).slice(0, 13); // 13 PERGUNTAS!
            
            // Iniciar primeira pergunta
            perguntaAtual = 0;
            respostasUsuario = [];
            pontos = 0;
            
            mostrarPergunta();
        }

        function mostrarTodasPombagiras() {
            document.querySelector('.header-glass').style.display = 'none';
            document.getElementById('secao-todas-pombagiras').style.display = 'grid';
            document.getElementById('quiz-section').style.display = 'none';
            document.getElementById('resultado-section').style.display = 'none';
        }

        function exibirTodasPombagiras() {
            const container = document.getElementById('secao-todas-pombagiras');
            container.innerHTML = '';
            
            pombagiras.forEach(pombagira => {
                const card = document.createElement('div');
                card.className = 'pombagira-card glass-panel';
                card.style.borderLeft = `4px solid ${pombagira.cores[0]}`;
                
                card.innerHTML = `
                    <div class="pombagira-header">
                        <div class="pombagira-icone">${pombagira.icone}</div>
                        <div>
                            <h3 class="pombagira-titulo">${pombagira.nome}</h3>
                            <span class="pombagira-dominio">${pombagira.dominio}</span>
                        </div>
                    </div>
                    
                    <p class="pombagira-descricao">${pombagira.descricao}</p>
                    
                    <div class="pombagira-atributos">
                        ${pombagira.atributos.map(atributo => 
                            `<span class="atributo-tag">${atributo}</span>`
                        ).join('')}
                    </div>
                    
                    <div class="pombagira-detalhes">
                        <div class="detalhe-item">
                            <i>üé®</i>
                            <span>Cores: ${pombagira.cores.join(', ')}</span>
                        </div>
                        <div class="detalhe-item">
                            <i>üìÖ</i>
                            <span>Dia forte: ${pombagira.dias}</span>
                        </div>
                        <div class="detalhe-item">
                            <i>üåø</i>
                            <span>Elemento: ${pombagira.elemento}</span>
                        </div>
                        <div class="detalhe-item">
                            <i>üéÅ</i>
                            <span>Oferendas: ${pombagira.oferendas}</span>
                        </div>
                    </div>
                `;
                
                container.appendChild(card);
            });
        }

        function mostrarPergunta() {
            if (perguntaAtual >= 13) { // AGORA √â 13!
                finalizarQuiz();
                return;
            }
            
            const pergunta = perguntasQuiz[perguntaAtual];
            const container = document.getElementById('opcoes-container');
            
            // Atualizar pergunta
            document.getElementById('pergunta-atual').textContent = pergunta.pergunta;
            document.getElementById('numero-pergunta').textContent = perguntaAtual + 1;
            
            // Atualizar op√ß√µes
            container.innerHTML = '';
            
            const opcoes = [
                { letra: 'a', texto: pergunta.opcao_a },
                { letra: 'b', texto: pergunta.opcao_b },
                { letra: 'c', texto: pergunta.opcao_c }
            ];
            
            opcoes.forEach(opcao => {
                const button = document.createElement('button');
                button.className = 'quiz-opcao glass-panel';
                button.innerHTML = `
                    <strong>${opcao.letra.toUpperCase()})</strong> ${opcao.texto}
                `;
                button.onclick = () => selecionarResposta(opcao.letra, button);
                container.appendChild(button);
            });
            
            // Atualizar progresso
            document.getElementById('contador-perguntas').textContent = 
                `${perguntaAtual + 1}/13`; // FIXO EM 13!
            
            document.getElementById('barra-progresso').style.width = 
                `${((perguntaAtual + 1) / 13) * 100}%`; // FIXO EM 13!
            
            // Esconder bot√£o pr√≥ximo
            document.getElementById('proxima-btn').style.display = 'none';
            document.getElementById('pular-btn').style.display = 'block';
            
            // Limpar feedback
            document.getElementById('feedback-container').innerHTML = '';
        }

        function selecionarResposta(letra, elemento) {
            const pergunta = perguntasQuiz[perguntaAtual];
            const correta = letra === pergunta.resposta_correta;
            
            // Desabilitar todas as op√ß√µes
            document.querySelectorAll('.quiz-opcao').forEach(btn => {
                btn.style.pointerEvents = 'none';
            });
            
            // Marcar resposta
            if (correta) {
                elemento.classList.add('correta');
                pontos += pergunta.nivel_dificuldade * 10;
                mostrarFeedback('‚úÖ Resposta Correta!', 'verde');
            } else {
                elemento.classList.add('incorreta');
                mostrarFeedback('‚ùå Resposta Incorreta', 'vermelho');
                
                // Mostrar resposta correta
                const letraCorreta = pergunta.resposta_correta;
                const opcoes = document.querySelectorAll('.quiz-opcao');
                opcoes.forEach(opcao => {
                    if (opcao.textContent.trim().startsWith(letraCorreta.toUpperCase() + ')')) {
                        opcao.classList.add('correta');
                    }
                });
            }
            
            // Salvar resposta do usu√°rio
            respostasUsuario.push({
                pergunta: pergunta.pergunta,
                resposta: letra,
                correta: correta,
                explicacao: pergunta.explicacao
            });
            
            // Mostrar bot√£o pr√≥ximo
            document.getElementById('proxima-btn').style.display = 'block';
            document.getElementById('pular-btn').style.display = 'none';
        }

        function mostrarFeedback(mensagem, tipo) {
            const container = document.getElementById('feedback-container');
            container.innerHTML = `
                <div class="glass-panel" style="padding: 15px; border-color: ${tipo === 'verde' ? '#00ff88' : '#ff3d00'};">
                    <strong>${mensagem}</strong>
                    <p style="margin-top: 10px; font-size: 0.9rem; opacity: 0.8;">
                        ${perguntasQuiz[perguntaAtual].explicacao}
                    </p>
                </div>
            `;
        }

        function pularPergunta() {
            perguntaAtual++;
            mostrarPergunta();
        }

        function proximaPergunta() {
            perguntaAtual++;
            mostrarPergunta();
        }

        function finalizarQuiz() {
            // Calcular Pombagira baseado nos pontos
            const maxPontos = 13 * 30; // 13 perguntas * m√°ximo 30 pontos cada
            const porcentagem = (pontos / maxPontos) * 100;
            
            // Determinar Pombagira baseado na pontua√ß√£o (agora mais preciso com 13 perguntas)
            let pombagiraIndex;
            
            if (porcentagem >= 90) {
                pombagiraIndex = 0; // Maria Padilha - Mestre
            } else if (porcentagem >= 80) {
                pombagiraIndex = 2; // Maria Quit√©ria - Guerreira
            } else if (porcentagem >= 70) {
                pombagiraIndex = 6; // Cigana - S√°bia
            } else if (porcentagem >= 60) {
                pombagiraIndex = 1; // Maria Mulambo - Curadora
            } else if (porcentagem >= 50) {
                pombagiraIndex = 4; // Dama da Noite - M√≠stica
            } else if (porcentagem >= 40) {
                pombagiraIndex = 10; // Maria Farrapo - Transformadora
            } else if (porcentagem >= 30) {
                pombagiraIndex = 3; // Rosa Caveira - Justiceira
            } else if (porcentagem >= 20) {
                pombagiraIndex = 5; // Sete Saias - Alegre
            } else if (porcentagem >= 10) {
                pombagiraIndex = 8; // Da Praia - Emocional
            } else {
                pombagiraIndex = 11; // Da Figueira - Ancestral
            }
            
            pombagiraResultado = pombagiras[pombagiraIndex];
            
            // Mostrar resultado
            mostrarResultado();
        }

        function mostrarResultado() {
            document.getElementById('quiz-section').style.display = 'none';
            document.getElementById('resultado-section').style.display = 'block';
            
            const container = document.getElementById('pombagira-resultado');
            
            container.innerHTML = `
                <div style="text-align: center;">
                    <div class="pombagira-imagem" style="background: linear-gradient(135deg, ${pombagiraResultado.cores[0]}, ${pombagiraResultado.cores[1] || pombagiraResultado.cores[0]});">
                        ${pombagiraResultado.icone}
                    </div>
                    
                    <h3 style="font-size: 2rem; color: #FFD700; margin-bottom: 10px;">
                        ${pombagiraResultado.nome}
                    </h3>
                    
                    <p style="color: rgba(255,255,255,0.8); margin-bottom: 20px;">
                        ${pombagiraResultado.dominio}
                    </p>
                    
                    <div style="margin: 25px 0;">
                        <p style="line-height: 1.6; margin-bottom: 20px;">
                            ${pombagiraResultado.descricao}
                        </p>
                        
                        <div class="mensagem-audio">
                            <strong>üó£Ô∏è Mensagem da ${pombagiraResultado.nome}:</strong>
                            <p style="margin-top: 10px;">"${pombagiraResultado.mensagemAudio}"</p>
                        </div>
                    </div>
                    
                    <div style="display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; margin: 25px 0;">
                        <div class="glass-panel" style="padding: 10px 20px;">
                            <div style="font-size: 0.9rem; opacity: 0.8;">Pontua√ß√£o Final</div>
                            <div style="font-weight: bold;">${pontos} pontos</div>
                        </div>
                        
                        <div class="glass-panel" style="padding: 10px 20px;">
                            <div style="font-size: 0.9rem; opacity: 0.8;">Dia Forte</div>
                            <div style="font-weight: bold;">${pombagiraResultado.dias}</div>
                        </div>
                        
                        <div class="glass-panel" style="padding: 10px 20px;">
                            <div style="font-size: 0.9rem; opacity: 0.8;">Elemento</div>
                            <div style="font-weight: bold;">${pombagiraResultado.elemento}</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <h4 style="margin-bottom: 15px; color: #FFD700;">Oferendas Recomendadas:</h4>
                        <p style="opacity: 0.9;">${pombagiraResultado.oferendas}</p>
                    </div>
                </div>
            `;
            
            // Registrar resultado no Supabase (opcional)
            registrarResultadoConsulta();
        }

        async function registrarResultadoConsulta() {
            try {
                const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
                
                const { error } = await supabase
                    .from('resultados_oraculo')
                    .insert([{
                        session_id: sessionStorage.getItem('session_id') || 'anonimo',
                        score: pontos,
                        pombagira_id: pombagiraResultado.id,
                        respostas: respostasUsuario
                    }]);
                
                if (!error) {
                    console.log('‚úÖ Resultado registrado no Supabase');
                }
                
            } catch (error) {
                console.error('Erro ao registrar resultado:', error);
            }
        }

        function compartilharResultado() {
            const texto = `üîÆ OR√ÅCULO DAS 12 POMBAGIRAS üîÆ\n\nAp√≥s 13 perguntas sagradas, descobri minha Pombagira Guia!\n\nüèÜ Minha guia √©: ${pombagiraResultado.nome}\nüìú Dom√≠nio: ${pombagiraResultado.dominio}\n‚≠ê Pontua√ß√£o: ${pontos} pontos\n\n"${pombagiraResultado.mensagemAudio}"\n\nFa√ßa sua consulta espiritual tamb√©m!`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Minha Pombagira Guia - Or√°culo das 12 Pombagiras',
                    text: texto,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(texto + '\n\n' + window.location.href);
                alert('Resultado copiado para a √°rea de transfer√™ncia! üìã');
            }
        }

        function novaConsulta() {
            location.reload();
        }

        // ========== UTILIDADES ==========
        function embaralharArray(array) {
            const novoArray = [...array];
            for (let i = novoArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [novoArray[i], novoArray[j]] = [novoArray[j], novoArray[i]];
            }
            return novoArray;
        }

        // ========== SQL PARA 13+ PERGUNTAS ==========
        window.criarTabela13Perguntas = function() {
            const sql = `
            -- Criar tabela de perguntas para o or√°culo das 12 Pombagiras
            CREATE TABLE IF NOT EXISTS perguntas_pombagira (
              id SERIAL PRIMARY KEY,
              pergunta TEXT NOT NULL,
              opcao_a TEXT NOT NULL,
              opcao_b TEXT NOT NULL,
              opcao_c TEXT NOT NULL,
              resposta_correta CHAR(1) CHECK (resposta_correta IN ('a', 'b', 'c')),
              nivel_dificuldade INTEGER DEFAULT 1,
              tema VARCHAR(50),
              explicacao TEXT,
              ativa BOOLEAN DEFAULT TRUE,
              criada_em TIMESTAMP DEFAULT NOW()
            );

            -- Inserir 13 perguntas iniciais
            INSERT INTO perguntas_pombagira 
            (pergunta, opcao_a, opcao_b, opcao_c, resposta_correta, nivel_dificuldade, tema, explicacao) VALUES
            ('Qual sauda√ß√£o abre os caminhos na gira?', 'Sarav√°', 'Laroy√™ Exu', 'Ax√©', 'b', 1, 'sauda√ß√µes', 'Laroy√™ Exu √© a sauda√ß√£o que abre os caminhos e pede licen√ßa para trabalhar.'),
            ('Maria Padilha atua principalmente em qual encruzilhada?', 'De terra', 'De vento', 'De fogo', 'a', 2, 'entidades', 'Maria Padilha atua nas encruzilhadas de terra, que s√£o os caminhos da vida material.'),
            ('Qual elemento representa Maria Mulambo?', 'Fogo', 'Terra', '√Ågua', 'b', 2, 'elementos', 'Maria Mulambo est√° ligada ao elemento Terra, que representa cura e estabilidade.'),
            ('Qual dia da semana √© mais forte para Pombagira Cigana?', 'Segunda-feira', 'Quarta-feira', 'Sexta-feira', 'b', 3, 'dias', 'Quarta-feira √© o dia de Merc√∫rio, que rege a comunica√ß√£o e viagens, perfeito para Pombagira Cigana.'),
            ('O que simboliza a navalha de Maria Navalha?', 'Beleza', 'Defesa e ast√∫cia', 'Riqueza', 'b', 2, 's√≠mbolos', 'A navalha representa a capacidade de defesa e a ast√∫cia necess√°ria para sobreviver.'),
            ('Qual Pombagira est√° ligada √†s √°guas e emo√ß√µes?', 'Maria Padilha', 'Pombagira da Praia', 'Rosa Caveira', 'b', 1, 'elementos', 'Pombagira da Praia trabalha com as √°guas e a purifica√ß√£o emocional.'),
            ('Qual Pombagira √© conhecida como "Rainha das Encruzilhadas"?', 'Maria Mulambo', 'Maria Padilha', 'Pombagira Cigana', 'b', 1, 't√≠tulos', 'Maria Padilha √© chamada de Rainha das Encruzilhadas por seu poder de abrir caminhos.'),
            ('Qual cor est√° mais associada a Rosa Caveira?', 'Azul', 'Preto e Vermelho', 'Verde', 'b', 2, 'cores', 'Rosa Caveira √© representada pelas cores preto (morte) e vermelho (transforma√ß√£o).'),
            ('Sete Saias representa qual energia principal?', 'Tristeza', 'Alegria e dan√ßa', 'S√©rio', 'b', 1, 'energias', 'Sete Saias traz a energia da alegria, dan√ßa e celebra√ß√£o da vida.'),
            ('Pombagira da Figueira conecta com o qu√™?', 'Futuro', 'Ancestralidade', 'Viagens', 'b', 3, 'conex√µes', 'Pombagira da Figueira nos conecta com nossos antepassados e ra√≠zes familiares.'),
            ('Qual oferenda √© tradicional para Maria Navalha?', 'Champagne', 'Cacha√ßa', 'Vinho', 'b', 2, 'oferendas', 'Maria Navalha aceita cacha√ßa como oferenda, representando a for√ßa do povo.'),
            ('Dama da Noite atua principalmente em qual per√≠odo?', 'Manh√£', 'Noite', 'Tarde', 'b', 1, 'tempo', 'Dama da Noite trabalha com os mist√©rios e segredos que surgem √† noite.'),
            ('Qual elemento rege Pombagira Menina?', 'Terra', 'Ar', 'Fogo', 'b', 3, 'elementos', 'Pombagira Menina est√° ligada ao elemento Ar, que representa renova√ß√£o e novos come√ßos.');
            `;
            
            console.log('üìã SQL para criar tabela com 13 perguntas:');
            console.log(sql);
            alert('Copie o SQL acima e execute no SQL Editor do Supabase!');
        };
    </script>
</body>
</html>
